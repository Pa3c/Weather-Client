<div class="upper-panel">
    <div class="left-panel">
    <h1>HISTORY</h1>
    </div>
    <div class="right-panel">
        <div class="search-panel">
                <form (ngSubmit)="f.form.valid && searchForWeather()" #f="ngForm" id="place" novalidate>
                    <input type="text" class="form-input search-input" 
                    placeholder="City or Lon,Lat" 
                    [(ngModel)]="placeToSearch" 
                    name="placeToSearch" required/>
                    <input type="image" name="submit" src="http://simpleicon.com/wp-content/uploads/search-64x64.png" class="submit-search"/>
                </form>
        </div>
    </div>
</div>
<div class="center-panel">
    <div class="left-panel">
        <div class="history-container">
            <div class="filter-container">
                <div class="filter-wrapper">  
                    <div class="static-width-filter-container">
                    <form (ngSubmit)="filterWeathers()">
                       <div class="filter-inner-first-column">
                           Country<br>
                           City<br>
                       </div>
                       <div style="width: 400px; float: left;">
                            <div class="filter-inner" style="width: 100px;">
                                <input type="text" class="form-input wide-form-input"[(ngModel)]="weatherFilter.country" name="country"/>
                                <input type="text" class="form-input wide-form-input" [(ngModel)]="weatherFilter.city" name="city"/>
                            </div>
                            <div class="filter-middle-label">
                                Lat
                            </div>
                            <div class="filter-inner" style="width: 48px;">
                                <input type="number" min="-90" max="90" class=" form-input wide-form-input" [(ngModel)]="weatherFilter.latFrom" name="latFrom"/>
                                <input type="number" min="-90" max="90" class=" form-input wide-form-input" [(ngModel)]="weatherFilter.latTo" name="latTo"/>
                            </div>    
                            <div class="filter-middle-label">
                                Lon
                            </div>
                            <div class="filter-inner" style="width: 48px;">
                                <input type="number" min="-180" max="180" class=" form-input wide-form-input" [(ngModel)]="weatherFilter.lonFrom" name="lonFrom"/>
                                <input type="number" min="-180" max="180" class=" form-input wide-form-input" [(ngModel)]="weatherFilter.lonTo" name="lonTo"/>
                            </div>     
                            <div class="filter-middle-label">
                                Date
                            </div>
                            <div class="filter-inner" style="width: 120px;">
                                <input type="date" placeholder="dd-mm-yyyy" class="form-input date-form-input" [(ngModel)]="weatherFilter.dateFrom" name="dateFrom"/>
                                <input type="date" placeholder="dd-mm-yyyy"  class="form-input date-form-input" [(ngModel)]="weatherFilter.dateTo" name="dateTo"/>
                            </div>
                            </div>
                            <div class="filter-inner-last-column">  
                                <div class="filter-middle-label">
                                    Hour
                                </div>
                                <div class="filter-inner" style="width: 70px;">
                                    <input type="time" class="form-input wide-form-input hour-form-input" [(ngModel)]="weatherFilter.hourFrom" name="hourFrom" />
                                    <input type="time" class="form-input wide-form-input hour-form-input" [(ngModel)]="weatherFilter.hourTo" name="hourTo"/>
                                </div>
                            </div>
                            <div style="float: left; width: 470px;"> 
                                <div class="filter-inner-first-column">Keywords</div>
                                <div style="width: 394px; float: left;">
                                    <textarea name="comment" form="usrform" class="form-input textarea-input" [(ngModel)]="weatherFilter.keywords" name="keywords">
                                    </textarea>
                                </div>
                            </div>
                            <div class="filter-inner-last-column">  
                                <div>
                                    <input type="submit" value="Filter" class="filter-submit-button"/>
                                </div>   
                            </div>
                    </form>    
                </div> 
                </div>
                                            
            </div>
            <div class="history-list-container">
                <table class="history-table">
                    <thead>
                       <tr>
                          <th (click)="sort(0)">Country</th>
                          <th (click)="sort(1)">City</th>
                          <th (click)="sort(2)">Date</th>
                          <th (click)="sort(3)">Hour</th>
                          <th></th>
                       </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of transactionList">
                            <td (click)="setCurrentWeather(item.id)">{{ item.weatherInfo.country }}</td>
                            <td (click)="setCurrentWeather(item.id)">{{ item.weatherInfo.city }}</td>
                            <td (click)="setCurrentWeather(item.id)">{{ item.weatherInfo.day}}</td>
                            <td (click)="setCurrentWeather(item.id)">{{ item.weatherInfo.hour}}</td>
                            <td>
                               <button type="button" class="delete-button" (click)="deleteWeather(item.id)">X</button>
                            </td>
                         </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="right-panel">
        
        <div class="weather-details-panel">
                <div class="weather-detail-element" (mouseover)="textChanger.changeDateText=true" (mouseout)="textChanger.changeDateText=false">
                    <span *ngIf="textChanger.changeDateText" class="titleSpan info-span">Date</span>
                    <span *ngIf="!textChanger.changeDateText" class="info-span">{{currentWeather.weatherInfo.day || 'Date'}}</span> 
                </div>
                <div class="weather-detail-element" (mouseover)="textChanger.changeCountryText=true" (mouseout)="textChanger.changeCountryText=false">
                    <span *ngIf="textChanger.changeCountryText" class="titleSpan info-span">Country</span>
                    <span *ngIf="!textChanger.changeCountryText" class="info-span">{{currentWeather.weatherInfo.country || 'Country'}}</span>
                </div>
                <div class="weather-detail-element" (mouseover)="textChanger.changeHourText=true" (mouseout)="textChanger.changeHourText=false">
                    <span *ngIf="textChanger.changeHourText" class="titleSpan info-span">Hour</span>
                    <span *ngIf="!textChanger.changeHourText" class="info-span">{{currentWeather.weatherInfo.hour || 'Hour'}}</span>
                     
                </div>
                <div class="weather-detail-element" (mouseover)="textChanger.changeCityText=true" (mouseout)="textChanger.changeCityText=false">
                    <span *ngIf="textChanger.changeCityText" class="titleSpan info-span">City</span>
                    <span *ngIf="!textChanger.changeCityText" class="info-span">{{currentWeather.weatherInfo.city || 'City'}}</span>
                    
                </div>
                <div class="weather-detail-element info-span">
                    Temperature
                </div>
                <div class="weather-detail-element info-span">
                    Coordinates
                </div>
                <div class="weather-detail-little-element-container">
                    <div class="weather-detail-element weather-detail-little-element" (mouseover)="textChanger.changetemperatureCText=true" (mouseout)="textChanger.changetemperatureCText=false">
                        <span *ngIf="textChanger.changetemperatureCText" class="titleSpan info-span">C</span>
                        <span *ngIf="!textChanger.changetemperatureCText" class="info-span"> {{currentWeather.weatherInfo.temperatureC || 'C'}}</span>
                    </div>
                
                    <div class="weather-detail-element weather-detail-little-element" style="margin:0px;" (mouseover)="textChanger.changetemperatureFText=true" (mouseout)="textChanger.changetemperatureFText=false">
                        <span *ngIf="textChanger.changetemperatureFText" class="titleSpan info-span">F</span>
                        <span *ngIf="!textChanger.changetemperatureFText" class="info-span">{{currentWeather.weatherInfo.temperatureF || 'F'}}</span>
                     
                    </div>
                </div>
                <div class="weather-detail-little-element-container">
                    <div class="weather-detail-element weather-detail-little-element" (mouseover)="textChanger.changeLatText=true" (mouseout)="textChanger.changeLatText=false">
                        <span *ngIf="textChanger.changeLatText" class="titleSpan info-span">Lat</span>
                        <span *ngIf="!textChanger.changeLatText" class="info-span">{{currentWeather.weatherInfo.latitude || 'Lat'}}</span>
                     
                    </div>
                    <div class="weather-detail-element weather-detail-little-element" style="margin:0px;" (mouseover)="textChanger.changeLonText=true" (mouseout)="textChanger.changeLonText=false">
                        <span *ngIf="textChanger.changeLonText" class="titleSpan info-span">Lon</span>
                        <span *ngIf="!textChanger.changeLonText" class="info-span">{{currentWeather.weatherInfo.longitude || 'Lon'}}</span>
                    </div>
                </div>
                <div class="weather-detail-element weather-big-element" (mouseover)="textChanger.changeHumidityText=true" (mouseout)="textChanger.changeHumidityText=false">
                    <span *ngIf="textChanger.changeHumidityText" class="titleSpan big-info-span">Humidity</span>
                    <span *ngIf="!textChanger.changeHumidityText" class="big-info-span">{{currentWeather.weatherInfo.humidity || 'Humidity'}}</span>
                     
                </div>
                <div class="weather-detail-element weather-big-element" (mouseover)="textChanger.changePressureText=true" (mouseout)="textChanger.changePressureText=false">
                    <span *ngIf="textChanger.changePressureText" class="titleSpan big-info-span">Pressure</span>
                    <span *ngIf="!textChanger.changePressureText" class="big-info-span">{{currentWeather.weatherInfo.pressure || 'Pressure'}}</span>
                     
                </div>
                <div class="weather-detail-element weather-big-element" (mouseover)="textChanger.changeSunriseText=true" (mouseout)="textChanger.changeSunriseText=false">
                    <span *ngIf="textChanger.changeSunriseText" class="titleSpan big-info-span">Sunrise</span>
                    <span *ngIf="!textChanger.changeSunriseText" class="big-info-span"> {{currentWeather.weatherInfo.sunrise || 'Sunrise'}} </span>
                   
                </div>
                <div class="weather-detail-element weather-big-element" (mouseover)="textChanger.changeSunsetText=true" (mouseout)="textChanger.changeSunsetText=false">
                    <span *ngIf="textChanger.changeSunsetText" class="titleSpan big-info-span">Sunset</span>
                    <span *ngIf="!textChanger.changeSunsetText" class="big-info-span"> {{currentWeather.weatherInfo.sunset || 'Sunset'}}</span>
                </div>
        </div>
        <div class="button-panel">
            <div class="details-buttons-container">
                <div class="custom-button details-button" style="background-color: #828080;  margin-left: 0px;" (click)="saveWeather()">
                    Save    
                </div>
                
                <div *ngIf="currentWeather.weatherInfo.id==null" class="custom-button details-button" style="opacity: 0.6; background-color: #CDFF00;  width: 36%; ">
                    Add Image    
                </div>
                <div *ngIf="currentWeather.weatherInfo.id!=null" class="custom-button details-button" style="background-color: #CDFF00;  width: 36%; " (click)="openAddPhotoDialog()">
                    Add Image    
                </div>
                <div *ngIf="currentWeather.weatherInfo.id==null" class="custom-button details-button" style="opacity: 0.6; background-color: #00A5FF; margin-right: 0px;">
                    Gallery
                </div>
                <div *ngIf="currentWeather.weatherInfo.id!=null" class="custom-button details-button" style="background-color: #00A5FF; margin-right: 0px;">
                    Gallery
                </div>
            </div>
            <div class="custom-button" style="background-color: #FF6600; float: left; margin-left: 0px;"(click)="logout()">
                Logout 
            </div>
        </div>
    </div>
</div>